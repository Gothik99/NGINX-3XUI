# üöÄ NGINX + 3XUI: –ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ Reverse Proxy

> –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ **Nginx** –≤ —Å–≤—è–∑–∫–µ —Å **Xray (3XUI)**.  
> –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞ –ø–∞—Ä—É –º–∏–Ω—É—Ç –ø–æ–¥–Ω—è—Ç—å –∑–∞—â–∏—â–µ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Å–∫–∏—Ä–æ–≤–∫—É (Stealth) –∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: Nginx, Certbot –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- üîí **SSL –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Let's Encrypt –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É–∂–µ –∏–º–µ—é—â–∏—Ö—Å—è —Ñ–∞–π–ª–æ–≤ –ø–æ –ø—É—Ç–∏
                                                 (/root/cert/–í–∞—à –¥–æ–º–µ–Ω/fullchain.pem /root/cert/–í–∞—à –¥–æ–º–µ–Ω/privkey.pem)                                    
- üõ°Ô∏è **Anti-Censorship**: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∞–π—Ç–∞-–∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (Probe resistance)
- üîÑ **–î–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã**:
  - üõ°Ô∏è **Relay** (–ü—Ä–æ–∫—Å–∏—Ä—É—é—â–∏–π —Å–µ—Ä–≤–µ—Ä): –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –∏ –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –µ–≥–æ. –°–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–∫—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ VPN
  - ‚öôÔ∏è **Backend** (–°–µ—Ä–≤–µ—Ä —Å 3XUI): –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ –æ—Ç Nginx –∏ –æ—Ç–¥–∞–µ—Ç –µ–≥–æ –≤ –ª–æ–∫–∞–ª—å–Ω—É—é –ø–∞–Ω–µ–ª—å 3XUI
- üõ†Ô∏è **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –£–¥–æ–±–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—É—Ç–µ–π (location) –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–≤ –±–µ–∑ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

### üì° –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã

- **gRPC** - –í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç
- **WebSocket (WS)** - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª
- **SplitHTTP (XHTTP)** - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π HTTP-based —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç

---

## üì• –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç—É –∫–æ–º–∞–Ω–¥—É –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ (–æ—Ç –∏–º–µ–Ω–∏ root):

```bash
bash <(curl -Ls https://raw.githubusercontent.com/Gothik99/NGINX-3XUI/main/install.sh)
```

## üìö –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—è–º

### üõ°Ô∏è –°—Ü–µ–Ω–∞—Ä–∏–π 1: Relay-—Å–µ—Ä–≤–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –†–§)

**–ó–∞–¥–∞—á–∞**: –°–∫—Ä—ã—Ç—å –∫–æ–Ω–µ—á–Ω—ã–π –∑–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä. –ö–ª–∏–µ–Ω—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ RU-—Å–µ—Ä–≤–µ—Ä—É, –∞ —Ç–æ—Ç –ø–µ—Ä–µ–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫.

**–®–∞–≥–∏**:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤ –º–µ–Ω—é `1) –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞`
3. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `ru.myserver.com`)
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å `1) –¢–æ–ª—å–∫–æ –ø—Ä–æ–∫—Å–∏—Ä—É—é—â–∏–π (Relay)`
5. –í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∑–∞—Ä—É–±–µ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `de.myserver.com`)
6. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, gRPC —Å –ø—É—Ç–µ–º `/secret-grpc`)

**–ì–æ—Ç–æ–≤–æ!** –í –∫–ª–∏–µ–Ω—Ç–µ (Happ –∏–ª–∏ –¥—Ä) —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –∞–¥—Ä–µ—Å `ru.myserver.com`, –Ω–æ –∫–ª—é—á–∏/UUID –æ—Ç –∑–∞—Ä—É–±–µ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
–ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ External Proxy —Å TLS
---

### ‚öôÔ∏è –°—Ü–µ–Ω–∞—Ä–∏–π 2: Backend-—Å–µ—Ä–≤–µ—Ä (–ó–∞—Ä—É–±–µ–∂–Ω—ã–π)

**–ó–∞–¥–∞—á–∞**: –ü–æ—Å—Ç–∞–≤–∏—Ç—å Nginx –ø–µ—Ä–µ–¥ –ø–∞–Ω–µ–ª—å—é 3XUI –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞ 443 –∏ –º–∞—Å–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–¥ —Å–∞–π—Ç.

**–®–∞–≥–∏**:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –≥–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–∞–Ω–µ–ª—å 3XUI
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤ –º–µ–Ω—é `1) –ü–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞`
3. –í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–æ–ª—å `2) –ü—Ä–æ–∫—Å–∏—Ä—É—é—â–∏–π –ø–æ–¥ 3XUI (Backend)`
5. –î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç:
   - **–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç**: gRPC
   - **–ü—É—Ç—å**: `/secret-grpc` (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ –ø–∞–Ω–µ–ª–∏)
   - **–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç**: –ù–∞–ø—Ä–∏–º–µ—Ä, `2053`

6. –í –ø–∞–Ω–µ–ª–∏ 3XUI —Å–æ–∑–¥–∞–π—Ç–µ Inbound:
   ```
   Port: 2053
   Listen IP: 127.0.0.1 (–í–∞–∂–Ω–æ! –¢–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)
   Network: gRPC
   Service Name: /secret-grpc
   Security: None (–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è Nginx)
   ```

---
–ü—Ä–∏–º–µ—Ä WebSocket (WS) –∏ –ü—Ä–∏–º–µ—Ä gRPC


<img width="407" height="864" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-11-29 163048" src="https://github.com/user-attachments/assets/504a3df7-7a6a-4655-8cdd-ced0f7db3570" /> 


 
<img width="458" height="902" alt="–°–Ω–∏–º–æ–∫ —ç–∫—Ä–∞–Ω–∞ 2025-11-29 163022" src="https://github.com/user-attachments/assets/ae474b17-ce4f-4d33-888b-7d73547e5a87" /> 


## üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤

–•–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å WebSocket –∏–ª–∏ XHTTP –∫ —É–∂–µ —Ä–∞–±–æ—Ç–∞—é—â–µ–º—É —Å–µ—Ä–≤–µ—Ä—É? –ù–µ –Ω—É–∂–Ω–æ –Ω–∏—á–µ–≥–æ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å!

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –µ—â–µ —Ä–∞–∑
2. –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç `2) –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç`
3. –°–ª–µ–¥—É–π—Ç–µ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º –º–∞—Å—Ç–µ—Ä–∞

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–π location –≤ –∫–æ–Ω—Ñ–∏–≥ Nginx –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç —Å–ª—É–∂–±—É.

---

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **OS** | Ubuntu 20.04+, Debian 10+ |
| **–ü—Ä–∞–≤–∞** | Root –¥–æ—Å—Ç—É–ø |
| **–ü–æ—Ä—Ç—ã** | 80 –∏ 443 –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã (–¥–ª—è Nginx) |
| **–î–æ–º–µ–Ω** | –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ IP –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞ (A-–∑–∞–ø–∏—Å—å) |

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∏–º–µ—á–∞–Ω–∏—è

### –î–ª—è —Ä–µ–∂–∏–º–∞ Relay

–î–ª—è —Ä–µ–∂–∏–º–∞ Relay —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Ü–µ–ª–µ–≤–æ–º (–∑–∞—Ä—É–±–µ–∂–Ω–æ–º) —Å–µ—Ä–≤–µ—Ä–µ —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∏–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –Ω–∞ 443 –ø–æ—Ä—Ç—É (—á–µ—Ä–µ–∑ Nginx –∏–ª–∏ XTLS Vision), –ª–∏–±–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS.

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ø–∞–Ω–µ–ª–∏ 3XUI
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã SSL
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞



## üë§ –ê–≤—Ç–æ—Ä

**Gothik99**

- GitHub: [@Gothik99](https://github.com/Gothik99)

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ö–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ [3XUI](https://github.com/MHSanaei/3x-ui)
- –°–æ–æ–±—â–µ—Å—Ç–≤—É Xray/V2Ray –∑–∞ –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é


<div align="center">

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É! ‚≠ê**

</div>

